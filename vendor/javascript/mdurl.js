<<<<<<< HEAD:personal/vendor/javascript/mdurl.js
const t={};function getDecodeCache(e){let s=t[e];if(s)return s;s=t[e]=[];for(let t=0;t<128;t++){const e=String.fromCharCode(t);s.push(e)}for(let t=0;t<e.length;t++){const n=e.charCodeAt(t);s[n]="%"+("0"+n.toString(16).toUpperCase()).slice(-2)}return s}function decode(t,e){typeof e!=="string"&&(e=decode.defaultChars);const s=getDecodeCache(e);return t.replace(/(%[a-f0-9]{2})+/gi,(function(t){let e="";for(let n=0,o=t.length;n<o;n+=3){const r=parseInt(t.slice(n+1,n+3),16);if(r<128)e+=s[r];else{if((r&224)===192&&n+3<o){const s=parseInt(t.slice(n+4,n+6),16);if((s&192)===128){const t=r<<6&1984|s&63;e+=t<128?"��":String.fromCharCode(t);n+=3;continue}}if((r&240)===224&&n+6<o){const s=parseInt(t.slice(n+4,n+6),16);const o=parseInt(t.slice(n+7,n+9),16);if((s&192)===128&&(o&192)===128){const t=r<<12&61440|s<<6&4032|o&63;e+=t<2048||t>=55296&&t<=57343?"���":String.fromCharCode(t);n+=6;continue}}if((r&248)===240&&n+9<o){const s=parseInt(t.slice(n+4,n+6),16);const o=parseInt(t.slice(n+7,n+9),16);const h=parseInt(t.slice(n+10,n+12),16);if((s&192)===128&&(o&192)===128&&(h&192)===128){let t=r<<18&1835008|s<<12&258048|o<<6&4032|h&63;if(t<65536||t>1114111)e+="����";else{t-=65536;e+=String.fromCharCode(55296+(t>>10),56320+(t&1023))}n+=9;continue}}e+="�"}}return e}))}decode.defaultChars=";/?:@&=+$,#";decode.componentChars="";const e={};function getEncodeCache(t){let s=e[t];if(s)return s;s=e[t]=[];for(let t=0;t<128;t++){const e=String.fromCharCode(t);/^[0-9a-z]$/i.test(e)?s.push(e):s.push("%"+("0"+t.toString(16).toUpperCase()).slice(-2))}for(let e=0;e<t.length;e++)s[t.charCodeAt(e)]=t[e];return s}function encode(t,e,s){if(typeof e!=="string"){s=e;e=encode.defaultChars}typeof s==="undefined"&&(s=true);const n=getEncodeCache(e);let o="";for(let e=0,r=t.length;e<r;e++){const h=t.charCodeAt(e);if(s&&h===37&&e+2<r&&/^[0-9a-f]{2}$/i.test(t.slice(e+1,e+3))){o+=t.slice(e,e+3);e+=2}else if(h<128)o+=n[h];else if(h>=55296&&h<=57343){if(h>=55296&&h<=56319&&e+1<r){const s=t.charCodeAt(e+1);if(s>=56320&&s<=57343){o+=encodeURIComponent(t[e]+t[e+1]);e++;continue}}o+="%EF%BF%BD"}else o+=encodeURIComponent(t[e])}return o}encode.defaultChars=";/?:@&=+$,-_.!~*'()#";encode.componentChars="-_.!~*'()";function format(t){let e="";e+=t.protocol||"";e+=t.slashes?"//":"";e+=t.auth?t.auth+"@":"";t.hostname&&t.hostname.indexOf(":")!==-1?e+="["+t.hostname+"]":e+=t.hostname||"";e+=t.port?":"+t.port:"";e+=t.pathname||"";e+=t.search||"";e+=t.hash||"";return e}function Url(){this.protocol=null;this.slashes=null;this.auth=null;this.port=null;this.hostname=null;this.hash=null;this.search=null;this.pathname=null}const s=/^([a-z0-9.+-]+:)/i;const n=/:[0-9]*$/;const o=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/;const r=["<",">",'"',"`"," ","\r","\n","\t"];const h=["{","}","|","\\","^","`"].concat(r);const i=["'"].concat(h);const c=["%","/","?",";","#"].concat(i);const a=["/","?","#"];const l=255;const f=/^[+a-z0-9A-Z_-]{0,63}$/;const u=/^([+a-z0-9A-Z_-]{0,63})(.*)$/;const p={javascript:true,"javascript:":true};const d={http:true,https:true,ftp:true,gopher:true,file:true,"http:":true,"https:":true,"ftp:":true,"gopher:":true,"file:":true};function urlParse(t,e){if(t&&t instanceof Url)return t;const s=new Url;s.parse(t,e);return s}Url.prototype.parse=function(t,e){let n,r,h;let i=t;i=i.trim();if(!e&&t.split("#").length===1){const t=o.exec(i);if(t){this.pathname=t[1];t[2]&&(this.search=t[2]);return this}}let m=s.exec(i);if(m){m=m[0];n=m.toLowerCase();this.protocol=m;i=i.substr(m.length)}if(e||m||i.match(/^\/\/[^@\/]+@[^@\/]+/)){h=i.substr(0,2)==="//";if(h&&!(m&&p[m])){i=i.substr(2);this.slashes=true}}if(!p[m]&&(h||m&&!d[m])){let t=-1;for(let e=0;e<a.length;e++){r=i.indexOf(a[e]);r!==-1&&(t===-1||r<t)&&(t=r)}let e,s;s=t===-1?i.lastIndexOf("@"):i.lastIndexOf("@",t);if(s!==-1){e=i.slice(0,s);i=i.slice(s+1);this.auth=e}t=-1;for(let e=0;e<c.length;e++){r=i.indexOf(c[e]);r!==-1&&(t===-1||r<t)&&(t=r)}t===-1&&(t=i.length);i[t-1]===":"&&t--;const n=i.slice(0,t);i=i.slice(t);this.parseHost(n);this.hostname=this.hostname||"";const o=this.hostname[0]==="["&&this.hostname[this.hostname.length-1]==="]";if(!o){const t=this.hostname.split(/\./);for(let e=0,s=t.length;e<s;e++){const s=t[e];if(s&&!s.match(f)){let n="";for(let t=0,e=s.length;t<e;t++)s.charCodeAt(t)>127?n+="x":n+=s[t];if(!n.match(f)){const n=t.slice(0,e);const o=t.slice(e+1);const r=s.match(u);if(r){n.push(r[1]);o.unshift(r[2])}o.length&&(i=o.join(".")+i);this.hostname=n.join(".");break}}}}this.hostname.length>l&&(this.hostname="");o&&(this.hostname=this.hostname.substr(1,this.hostname.length-2))}const g=i.indexOf("#");if(g!==-1){this.hash=i.substr(g);i=i.slice(0,g)}const C=i.indexOf("?");if(C!==-1){this.search=i.substr(C);i=i.slice(0,C)}i&&(this.pathname=i);d[n]&&this.hostname&&!this.pathname&&(this.pathname="");return this};Url.prototype.parseHost=function(t){let e=n.exec(t);if(e){e=e[0];e!==":"&&(this.port=e.substr(1));t=t.substr(0,t.length-e.length)}t&&(this.hostname=t)};export{decode,encode,format,urlParse as parse};

=======
// mdurl@2.0.0 downloaded from https://cdn.jsdelivr.net/npm/mdurl@2.0.0/index.mjs

import decode from './lib/decode.mjs'
import encode from './lib/encode.mjs'
import format from './lib/format.mjs'
import parse from './lib/parse.mjs'

export {
  decode,
  encode,
  format,
  parse
}
>>>>>>> dev:vendor/javascript/mdurl.js
